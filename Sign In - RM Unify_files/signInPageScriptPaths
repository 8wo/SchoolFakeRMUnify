function getCookie(n){for(var r,u,i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=i[t].substr(0,i[t].indexOf("=")),u=i[t].substr(i[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==n)return unescape(u)}function pad(n,t,i){while((n=n.toString()).length+(i=i.toString()).length<t)i+=i;return i.substr(0,t-n.length)+n}function GetActiveUserNameTextBox(){return $("#divUerNameTextBox").is(":visible")&&(activeUserTextBox="TextBoxWithScope"),$("#divUerName2TextBox").is(":visible")&&(activeUserTextBox="TextBoxWithOutScope"),previousActiveTextBox==activeUserTextBox?(previousActiveTextBox=activeUserTextBox,!1):(previousActiveTextBox=activeUserTextBox,!0)}(function(n){n.viewsAccountPublicSignIn=function(t){function u(){function f(){r=o();u=e();u!=undefined&&u!=""&&(t.username(u),t.usernameSaved(!0));r!=undefined&&r!=""?t.scopeText("@"+r):(t.usernameScopeEntered=ko.computed(function(){return!0}),t.scopeInCookie(!1));GetActiveUserNameTextBox();i.signInErrorMessage!=""?t.signInError(i.signInErrorMessage):i.signInUserLockedMessage.length>0?t.signInError(i.signInUserLockedMessage):t.signInError("");t.username()!=""&&t.username()!=undefined?n(i.signInPasswordController1).focus():t.triggerUsernameSwitchfocus=!0}function e(){var n=getCookie(i.signInUsernameCookieName);if(n&&n.length>0){var t=n.split("&"),r=t[0].split("=")[1],u=t[1].split("=")[1];if(r=="UserName")return u}}function o(){var n=getCookie(i.signInIdentityProviderCookieName);if(n&&n.length>0){var t=n.split("&"),r=t[0].split("=")[1],u=t[1].split("=")[1];if(r=="Scope")return u}return""}var t=this,r,u;t.username=ko.observable(i.signInUserNameValue);t.password=ko.observable("");t.signInError=ko.observable("");t.showPassword=ko.observable(!1);t.signInUsernameValidationError=ko.observable("");t.signInPasswordValidationError=ko.observable("");t.scopeText=ko.observable("");t.setScope=ko.observable(!0);t.usernameSaved=ko.observable(!1);t.scopeInCookie=ko.observable(!1);t.userPassword=ko.observable("");t.show=ko.observable(!0);t.triggerUsernameSwitchfocus=!1;t.triggerPasswordSwitchfocus=!1;t.usernameScopeEntered=ko.computed(function(){if(t.username()!=undefined&&t.username().indexOf("@")>-1)return!0});t.showDssoSignIn=ko.computed(function(){var n=navigator.userAgent.toLowerCase().match(/(chrome|msie|trident)/);if(navigator.appVersion.indexOf("Win")!=-1&&n!=null&&n.length>0)return!0});t.updatePassword=function(){t.password(n(i.signInPasswordController1).val())};t.signIn=function(){var u="";if(t.username().indexOf("@")>-1?u="":r!=""&&(u="@"+r,t.setScope(!0)),t.updatePassword(),t.signInUsernameValidationError(""),t.signInPasswordValidationError(""),t.username()==""&&t.password()=="")t.signInUsernameValidationError(i.signInUsernameError),t.signInPasswordValidationError(i.signInPasswordError);else if(t.username()=="")t.signInUsernameValidationError(i.signInUsernameError);else if(t.password()=="")t.signInPasswordValidationError(i.signInPasswordError);else return t.username(t.username()+u),t.setScope(!0),n(i.signInLoginForm).submit(),!0;return!1};t.EnterKey=function(){n(i.signInLoginButton).trigger("click")};t.showBox=function(){t.show(!t.show())};f();t.afterRenderCallback=function(){t.triggerUsernameSwitchfocus=!0;t.triggerPasswordSwitchfocus=!0};ko.bindingHandlers.switchFocus={update:function(i,r,u){var o=r(),s=u().ifElementHasFocusId,f,e;o==!0&&t.triggerUsernameSwitchfocus&&(f=n(i),e=f.val().length,f.trigger("focus"),GetActiveUserNameTextBox()&&f[0].setSelectionRange(e,e))}};ko.bindingHandlers.setFocus={update:function(i,r,u){var o=r(),s=u().elementToSetFocus,f=n("#"+s),e;o!="undefined"&&o==!0&&t.triggerPasswordSwitchfocus&&(f.val()&&f.val().length>0?(e=f.val().length,f.focus(),f[0].setSelectionRange(e,e)):f.focus())}}}var i=n.extend({},n.viewsAccountPublicSignIn.defaults,t),r=new u;return ko.applyBindings(r),r.afterRenderCallback(),this};n.viewsAccountPublicSignIn.defaults={signInErrorMessage:"",signInPasswordError:"",signInUsernameError:"",signInUsernameCookieName:"",signInIdentityProviderCookieName:"",signInPasswordController1:"",signInPasswordController2:"",signInLoginForm:"",signInLoginButton:"",signInUserNameValue:""}})(jQuery),function(n){n.viewsAccountPublicSignInNewsFeed=function(t){function r(){function f(t){n.ajax({type:"GET",url:"/webapi/v2/newsfeeds/maxresponse/"+i.maxNoResponses+"/scope",data:{userNameScope:r,signInNewsFeedScopeType:i.signInNewsFeedScopeType},dataType:"json",contentType:"application/json",success:t,error:function(){try{}catch(n){}}})}function e(n){n&&(n.type==i.availableFeedTypes[1]?o(n.feeds):n.type==i.availableFeedTypes[2]&&h(n.feeds))}function o(i){var r=n.map(i,function(n){return new s(n)});t.twitterFeedObservableArray(r)}function s(n){var t=null;n.isRePost&&(t="<small> <span class='glyphicon glyphicon-retweet'><\/span> Retweeted by <\/small> <a class=feedTextStyleLink href="+i.twitterBaseUri+n.rePostedScreenName+" target=_blank title= @"+n.rePostedScreenName+"><strong>"+n.rePostedName+"<\/strong>   @"+n.rePostedScreenName+" <\/a>");this.feedText=n.postSummary.parseURL().parseUsername().parseHashtag();this.feedUrl=i.twitterBaseUri+n.screenNameResponse;this.name=n.name;this.screenName=n.screenName;this.screenNameResponse=n.screenNameResponse;this.profileImageUrl=n.profileImageUrl;this.postedAt=u(n.postedAt);this.id=n.Id;this.expandUrl=i.twitterBaseUri+n.screenNameResponse+"/status/"+n.id;this.favouriteUrl=i.twitterBaseUri+"intent/favorite?tweet_id="+n.id;this.rePostUrl=i.twitterBaseUri+"intent/retweet?tweet_id="+n.id;this.replyToUrl=i.twitterBaseUri+"intent/tweet?in_reply_to="+n.id;this.postedUser="<strong>"+n.name+"<\/strong> @"+n.screenNameResponse;this.rePostedByUser=t}function h(i){var r=n.map(i,function(n){return new c(n)});t.hubspotFeedObservableArray(r)}function c(n){this.feedText=n.postSummary!=null?n.postSummary.limitTextCharacter():"";this.feedUrl=n.feedUrl;this.name=n.name;this.postedAt=u(n.postedAt);this.expandUrl=n.feedUrl;this.postedUser="<strong>"+n.name+"<\/strong> - "+n.feedTitle}function u(n){var t=new Date(n);return t.toLocaleString("en-gb",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}var t=this,r;t.twitterFeedObservableArray=ko.observableArray([]);t.hubspotFeedObservableArray=ko.observableArray([]);r=i.platformBrandfeedUserNameScope;f(e);String.prototype.limitTextCharacter=function(){return this.substring(0,180)+"..."};String.prototype.blankLink=function(n,t){return"<a target='_blank' aria-label='"+t+"' href='"+n+"'>"+t+"<\/a>"};String.prototype.parseURL=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+/g,function(n){return n.blankLink(n,n)})};String.prototype.parseUsername=function(){return this.replace(/[@]+[A-Za-z0-9-_]+/g,function(n){var t=n.replace("@","");return n.blankLink(i.twitterBaseUri+t,"@"+t)})};String.prototype.parseHashtag=function(){return this.replace(/[#]+[A-Za-z0-9-_]+/g,function(n){var t=n.replace("#","");return n.blankLink(i.twitterBaseUri+"hashtag/"+t+"?src=hash","#"+t)})}}var i=n.extend({},n.viewsAccountPublicSignInNewsFeed.defaults,t);return ko.applyBindings(new r,document.getElementById("newsFeedDiv")),this};n.viewsAccountPublicSignInNewsFeed.defaults={twitterBaseUri:"",feedUserNameDefault:"",urlpattern:"",maxNoResponses:3}}(jQuery);$("#goToOurTwitter").on("click","a",function(){var n=$(this).attr("href");if(n!="#")return window.open(n,"_blank"),!1});$("#goToOurTwitter").click(function(){return window.open(twitterUrl,"_blank"),!1})